(this["webpackJsonpviz-studio"]=this["webpackJsonpviz-studio"]||[]).push([[0],{15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SketchCell}));var _Users_jason_WebstormProjects_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_p5__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_slider_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(34),_slider_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_slider_scss__WEBPACK_IMPORTED_MODULE_3__),_play_button_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35),_play_button_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_play_button_scss__WEBPACK_IMPORTED_MODULE_4__),_cell_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36),_cell_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_cell_scss__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);function SketchCell(_ref){var _ref$start=_ref.start,start=void 0===_ref$start?0:_ref$start,_ref$duration=_ref.duration,duration=void 0===_ref$duration?30:_ref$duration,_ref$frameRate=_ref.frameRate,frameRate=void 0===_ref$frameRate?60:_ref$frameRate,_ref$rate=_ref.rate,rate=void 0===_ref$rate?1:_ref$rate,_ref$width=_ref.width,width=void 0===_ref$width?710:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?400:_ref$height,_ref$playButtonSize=_ref.playButtonSize,playButtonSize=void 0===_ref$playButtonSize?30:_ref$playButtonSize,_ref$autoPlay=_ref.autoPlay,autoPlay=void 0===_ref$autoPlay||_ref$autoPlay,_ref$loop=_ref.loop,loop=void 0!==_ref$loop&&_ref$loop,_ref$code=_ref.code,code=void 0===_ref$code?function(e,t){return{setup:function(){},draw:function(e){}}}:_ref$code,_ref$codeString=_ref.codeString,codeString=void 0===_ref$codeString?"":_ref$codeString,showRecordButton=!1,canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),cellRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),timeSliderRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),saveVideoRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),recorderRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),videoChunks=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]),streamRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),sketchState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)({t:0,start:start,duration:duration,rate:rate,width:width,height:height,loop:loop,autoPlay:autoPlay,codeString:codeString,prevCodeString:codeString,frameRate:frameRate}),s=sketchState.current;Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){s.start=start,s.duration=duration,s.rate=rate,s.width=width,s.height=height,s.loop=loop,s.autoPlay=autoPlay,s.codeString=codeString,s.frameRate=frameRate}),[start,duration,rate,width,height,loop,autoPlay,s,codeString,frameRate]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(autoPlay),_useState2=Object(_Users_jason_WebstormProjects_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),shouldPlay=_useState2[0],setPlay=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState4=Object(_Users_jason_WebstormProjects_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),shouldRecord=_useState4[0],setRecord=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState6=Object(_Users_jason_WebstormProjects_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),isRecording=_useState6[0],setRecording=_useState6[1],record=function(){setRecord(!0),videoChunks.current=[]},stopRecording=function(){setRecord(!1)};function exportVideo(e){var t=new Blob(videoChunks.current),r=document.createElement("video");r.id="recorded",r.controls=!0;var _=document.createElement("source");_.src=URL.createObjectURL(t),_.type=t.type,r.appendChild(_),document.body.appendChild(r),r.play()}Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){null!==streamRef.current&&null==recorderRef.current&&(recorderRef.current=new MediaRecorder(streamRef.current,{audioBitsPerSecond:0,videoBitsPerSecond:25e5,mimeType:"video/webm"}),recorderRef.current.ondataavailable=function(e){e.data.size&&(console.log("Got chunk",e.data),videoChunks.current.push(e.data))},recorderRef.current.onstop=exportVideo)}));var Sketch=function Sketch(p){var timeSlider,time,execCodeString=function execCodeString(code){return eval("\n      const __vars = {};\n      for (let m in p) {\n        __vars[m] = p[m];\n      }\n      ".concat(code,"\n      const entries = [];\n      for (let m in p) {\n        if (typeof p[m] === 'function' && !__vars[m]) {\n          entries.push([m, p[m]]);\n        }\n      }\n      Object.fromEntries(entries);"))},c=s.codeString?function(){try{var e=execCodeString(s.codeString);return s.prevCodeString=s.codeString,e}catch(t){return console.error("Failed to compile.",t),execCodeString(s.prevCodeString)}}():code(p,s),getFriendlyTime=function(){return p.floor(s.start+s.t)},getFriendlyDuration=function(){return p.floor(s.start+s.duration)},formatTimeAndDuration=function(){return"".concat(getFriendlyTime()," / ").concat(getFriendlyDuration())},updateTime=function(e){timeSlider.value(e),time.html(formatTimeAndDuration())},stop=function(){setPlay(!1),isRecording&&(setRecording(!1),recorderRef.current.stop()),updateTime(0)};p.setup=function(){p.createCanvas(width,height);if(p.randomSeed(1337),p.frameRate(s.frameRate),p.textSize(15),p.noStroke(),!shouldPlay&&timeSlider&&timeSlider.value()===s.t&&p.noLoop(),(timeSlider=p.createSlider(0,s.duration,s.t,.01)).style("width","".concat(width-playButtonSize-8,"px")),timeSlider.style("margin-left","".concat(playButtonSize,"px")),timeSlider.addClass("e-range"),timeSlider.parent(timeSliderRef.current),(time=p.createSpan(formatTimeAndDuration())).addClass("seek-time"),time.parent(timeSliderRef.current),c&&c.setup)try{c.setup()}catch(e){console.error("Failed to execute setup.",e)}},p.draw=function(){shouldRecord&&!isRecording?(updateTime(0),setRecording(!0),setPlay(!0),recorderRef.current.start(1e3)):!shouldRecord&&isRecording&&(recorderRef.current.stop(),setRecording(!1)),timeSlider.value()!==s.t&&(s.t=timeSlider.value(),updateTime(s.t));var e=shouldPlay?(s.t+s.rate)%s.duration:s.t;if(c&&c.draw)try{c.draw(s.start+s.t,s.start+e)}catch(t){p.noLoop(),console.error("Failed to execute draw.",t)}shouldPlay&&(s.t=e,updateTime(s.t),!loop&&s.t+s.rate>=s.duration&&stop())}},myRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),p5Ref=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){null!=p5Ref.current&&p5Ref.current.remove(),p5Ref.current=new _p5__WEBPACK_IMPORTED_MODULE_2__.a(Sketch,myRef.current)})),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{ref:cellRef,className:"cell",children:[showRecordButton&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{ref:saveVideoRef,onClick:function(){isRecording?stopRecording():record()},children:isRecording?"Recording...":"Record"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"sketch",ref:myRef}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{ref:timeSliderRef,className:"time-slider"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{className:"play-button".concat(shouldPlay?" paused":""),onClick:function(){setPlay(!shouldPlay)}})]})}},17:function(e,t,r){"use strict";var _=r(2),n=r.n(_),i=n.a.prototype.plot2D=function(e,t,r,_){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#F76C5E",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;this.stroke(n),this.strokeWeight(i),this.noFill(),this.beginShape(),this.curveVertex(r(e),_(e));for(var a=e;a<t-1;a++)this.curveVertex(r(a),_(a));this.curveVertex(r(t-1),_(t-1)),this.curveVertex(r(t-1),_(t-1)),this.endShape(),this.strokeWeight(1)},a=r(16),o=r.n(a),s=n.a.prototype.latex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=this.createSpan();_.style("font-size","".concat(this.textSize(),"px")),_.position(t,r),o.a.render(e,_.elt)};n.a.prototype.text=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.latex("\\text{".concat(e,"}"),t,r)};n.a.prototype.plot2D=i,n.a.prototype.latex=s;t.a=n.a},22:function(e,t,r){},23:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var _=r(0),n=r.n(_),i=r(13),a=r.n(i),o=(r(22),r(3)),s=(r(23),r(14)),c=r.n(s),d=(r(31),r(32),r(33),r(15)),u=r(7),l=r(1),p="s.start = 153;\ns.duration = 378 + 5 * 225;\ns.rate = 1;\ns.frameRate = 60;\n\nlet particles = [];\np.setup = () => {\n  p.textSize(15);\n  p.latex(\"\\\\text{The curve follows the equation: } x = \\\\sum_{i=1}^{3} sin(\\\\frac{t}{10i})\", 8, 8);\n  for(let i = 0;i<width/10;i++){\n    particles.push(new Particle());\n  }\n};\n\np.draw = (t, nextT) => {\n  p.background('#0f0f0f');\n//   p.translate(-s.width / 2, -s.height / 2);\n  plot(t);\n  for(let i = 0;i<particles.length;i++) {\n    particles[i].createParticle();\n    particles[i].moveParticle(t);\n    particles[i].joinParticles(particles.slice(i));\n  }\n};\n\nconst plot = (t, tail = 100, color = '#F76C5E') => {\n  p.plot2D(Math.max(0, t - tail), t, x1, y1_, color, 3);\n};\n\nconst x1 = (t) => {\n  // return t;\n  let scale = s.width / 10;\n  return s.width / 2 + scale * (p.sin(t/10) + p.sin(t/20) + p.sin(t/30));\n};\n\nconst y1_ = (t) => {\n  return s.height - y1(t);\n};\n\nconst y1 = (t) => {\n  // return t;\n  let scale = s.width / 10;\n  return s.height / 2 + scale * (p.cos(t / 10) + p.cos(t / 20) + p.cos(t / 30));\n};\n\nclass Particle {\n// setting the co-ordinates, radius and the\n// speed of a particle in both the co-ordinates axes.\n  constructor(){\n    this.x = this.originX = p.random(0,width);\n    this.y = this.originY = p.random(0,height);\n    this.r = p.random(width / 1000, width / 200);\n    this.xSpeed = p.random(-width / 500, width / 500);\n    this.ySpeed = p.random(-height / 500, height / 500);\n  }\n\n// creation of a particle.\n  createParticle() {\n    p.noStroke();\n    p.fill('rgba(200,169,169,0.5)');\n    p.circle(this.x,this.y,this.r);\n  }\n  \n  bounce (rawVal, max) {\n    const val = p.abs(rawVal);\n    let bounces = p.floor(val / max);\n    let remainder = val % max;\n    if (bounces % 2 == 1) {\n        remainder = (max - remainder);\n    }\n    return remainder;\n  }\n\n// setting the particle in motion.\n  moveParticle(t) {\n    this.x = this.bounce(this.originX + this.xSpeed * t, width);\n    this.y = this.bounce(this.originY + this.ySpeed * t, height);\n  }\n\n// this function creates the connections(lines)\n// between particles which are less than a certain distance apart\n  joinParticles(particles) {\n    particles.forEach(element =>{\n      let dis = p.dist(this.x,this.y,element.x,element.y);\n      if(dis < width / 10) {\n        p.stroke('rgba(255,255,255,0.04)');\n        p.line(this.x,this.y,element.x,element.y);\n      }\n    });\n  }\n}\n";function f(e){var t=e.width,r=void 0===t?700:t,n=e.updateOnChange,i=void 0!==n&&n,a=Object(_.useState)(p),s=Object(o.a)(a,2),f=s[0],h=s[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(d.a,{width:r,height:4/7*r,codeString:f,rate:1,loop:!0}),Object(l.jsx)(c.a,{style:{width:"".concat(r,"px")},mode:"jsx",theme:"monokai",name:"UNIQUE_ID_OF_DIV",onChange:i?Object(u.debounce)((function(e){h(e)}),300):void 0,onBlur:i?void 0:function(e,t){h(t.getValue())},defaultValue:p,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}})]})}var h=function(){var e=function(){var e=Object(_.useState)([0,0]),t=Object(o.a)(e,2),r=t[0],n=t[1];return Object(_.useLayoutEffect)((function(){function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r}(),t=Object(o.a)(e,2),r=t[0];return t[1],Object(l.jsx)("div",{className:"App",children:Object(l.jsx)("header",{className:"App-header",children:r&&Object(l.jsx)(f,{width:r,updateOnChange:!0})})})},m=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,39)).then((function(t){var r=t.getCLS,_=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),_(e),n(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),m()}},[[38,1,2]]]);
//# sourceMappingURL=main.bb1eb796.chunk.js.map